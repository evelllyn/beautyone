"use strict";(self["webpackChunkvueworks"]=self["webpackChunkvueworks"]||[]).push([[765],{5765:function(t,a,e){e.r(a),e.d(a,{default:function(){return yt}});var s=e(3396),i=e(7139),c=e(9242);const o={class:"item-content container"},r={class:"row justify-content-center"},n={"aria-label":"breadcrumb"},l={class:"breadcrumb"},d={class:"breadcrumb-item"},u={class:"breadcrumb-item"},p={class:"breadcrumb-item active","aria-current":"page"},h={class:"img-content col-6"},b=["src"],g={class:"allContent col-6"},_={class:"description"},m=(0,s._)("span",null,"【產品描述】",-1),y=(0,s._)("br",null,null,-1),k=(0,s._)("br",null,null,-1),v={key:0,class:"fs-3 text-danger"},w={key:1},T={key:2},C=(0,s._)("div",{class:"discount"},[(0,s._)("p",null,"即日起至 8 / 8 全站滿$1000免運費"),(0,s._)("p",null,[(0,s.Uk)("輸入優惠碼「"),(0,s._)("span",null,"BEAUTY2024"),(0,s.Uk)("」享全站88折優惠")])],-1),f={class:"addCart"},q={class:"input-group"},D=(0,s._)("i",{class:"bi bi-dash-lg"},null,-1),$=[D],I=(0,s._)("i",{class:"bi bi-plus-lg"},null,-1),N=[I],L=["disabled"],z={class:"tab-container"},S={class:"tab-nav"},U={class:"tab-item"},P={class:"tab-item"},x={key:0,class:"buy-content"},O={key:1,class:"carry-content"},A={class:"goods"},E=(0,s._)("h5",{class:"words fw-bold"},[(0,s._)("span",{class:"fs-2"},"ON SALE"),(0,s.Uk)("促銷商品")],-1),j={class:"onSaleGoods"},W=["onClick"],H={key:0,class:"sale-logo"},Y={key:1,class:"on"},Z={key:2,class:"sale"},B=(0,s._)("div",{class:"more"},"查看更多",-1),F={class:"card-body"},G={class:"card-title"},M={class:"product-price"},R={key:0,class:"text-danger"},K={key:1},V={key:2,class:"del-price float-end"};function J(t,a,e,D,I,J){const Q=(0,s.up)("LoaDing"),X=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Q,{active:t.isLoading},null,8,["active"]),(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("nav",n,[(0,s._)("ol",l,[(0,s._)("li",d,[(0,s.Wm)(X,{to:"/",class:"item-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("首頁")])),_:1})]),(0,s._)("li",u,[(0,s.Wm)(X,{to:"/products",class:"item-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("所有產品")])),_:1})]),(0,s._)("li",p,(0,i.zw)(I.product.title),1)])]),(0,s._)("div",h,[(0,s._)("img",{src:I.product.imageUrl,alt:"商品圖片",class:"img-fluid mb-3"},null,8,b)]),(0,s._)("div",g,[(0,s._)("article",null,[(0,s._)("h2",null,(0,i.zw)(I.product.title),1),(0,s._)("div",_,[m,y,(0,s.Uk)(" "+(0,i.zw)(I.product.description),1),k,(0,s.Uk)(" "+(0,i.zw)(I.product.content),1)])]),I.product.price?((0,s.wg)(),(0,s.iD)("div",v," NT $"+(0,i.zw)(I.product.price),1)):(0,s.kq)("",!0),I.product.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w,(0,i.zw)(I.product.origin_price),1)),I.product.price!=I.product.origin_price?((0,s.wg)(),(0,s.iD)("del",T," 原價NT$ "+(0,i.zw)(I.product.origin_price),1)):(0,s.kq)("",!0),C,(0,s._)("div",f,[(0,s._)("div",q,[(0,s._)("button",{class:"num-btn btn",type:"button",onClick:a[0]||(a[0]=t=>J.minusNumber(I.item))},$),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>I.item.qty=t),min:"1",class:"form-control text-center",placeholder:"","aria-label":""},null,512),[[c.nr,I.item.qty,void 0,{number:!0}]]),(0,s._)("button",{class:"num-btn btn",type:"button",onClick:a[2]||(a[2]=t=>J.addNumber(I.item))},N)]),(0,s._)("button",{type:"button",class:"cart-btn btn",disabled:this.status.loadingItem===I.product.id,onClick:a[3]||(a[3]=t=>J.addToCart(I.id))}," 加入購物車 ",8,L)])]),(0,s._)("div",z,[(0,s._)("ul",S,[(0,s._)("li",U,[(0,s._)("button",{type:"button",class:(0,i.C_)(["tab-link buy bg-white fs-5",{active:"buyTab"===I.selectedTab}]),onClick:a[4]||(a[4]=t=>I.selectedTab="buyTab")},"ORDER NOTIFICATION / 訂購須知",2)]),(0,s._)("li",P,[(0,s._)("button",{type:"button",class:(0,i.C_)(["tab-link carry bg-white fs-5",{active:"carryTab"===I.selectedTab}]),onClick:a[5]||(a[5]=t=>I.selectedTab="carryTab")},"SHIPPING NOTIFICATION / 配送須知",2)])]),((0,s.wg)(),(0,s.j4)((0,s.LL)(J.selectTabComponent),{class:"tab-content"},{default:(0,s.w5)((()=>["buyTab"===I.selectedTab?((0,s.wg)(),(0,s.iD)("div",x)):"carryTab"===I.selectedTab?((0,s.wg)(),(0,s.iD)("div",O)):(0,s.kq)("",!0)])),_:1}))])]),(0,s._)("div",A,[E,(0,s._)("div",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.onSaleProducts,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col col-6 col-md-3 my-4",key:t.id},[(0,s._)("div",{class:"card",onClick:a=>J.getProductDescription(t.id)},[(0,s._)("div",{class:"card-img-top",style:(0,i.j5)({backgroundImage:`url(${t.imageUrl})`})},[t.price!==t.origin_price?((0,s.wg)(),(0,s.iD)("div",H)):(0,s.kq)("",!0),t.price!==t.origin_price?((0,s.wg)(),(0,s.iD)("span",Y,"ON")):(0,s.kq)("",!0),t.price!==t.origin_price?((0,s.wg)(),(0,s.iD)("span",Z,"SALE")):(0,s.kq)("",!0),B],4),(0,s._)("div",F,[(0,s._)("div",G,[(0,s._)("h5",null,(0,i.zw)(t.title),1)]),(0,s._)("div",M,[t.price?((0,s.wg)(),(0,s.iD)("span",R,"NT $"+(0,i.zw)(t.price),1)):(0,s.kq)("",!0),t.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",K,(0,i.zw)(t.origin_price)+"元",1)),t.price!=t.origin_price?((0,s.wg)(),(0,s.iD)("del",V,"原價NT$"+(0,i.zw)(t.origin_price),1)):(0,s.kq)("",!0)])])],8,W)])))),128))])])])],64)}e(7658);const Q={class:"buy-content"},X=(0,s._)("p",null,"1. 退貨需於到貨10天內進行申請，且商品為未開封狀態",-1),tt=(0,s._)("p",null,"2. 若發現商品不符或損壞等情形，請於7日內聯繫客服，我們會儘快與您連絡及處理",-1),at=[X,tt];function et(t,a){return(0,s.wg)(),(0,s.iD)("div",Q,at)}var st=e(89);const it={},ct=(0,st.Z)(it,[["render",et]]);var ot=ct;const rt={class:"carry-content"},nt=(0,s._)("p",null,"1. 目前僅提供超商取貨與宅配兩種配送方式",-1),lt=(0,s._)("p",null,"2. 現貨商品於完成結帳後1-3個工作天出貨，出貨後2-3個工作天抵達指定地址",-1),dt=(0,s._)("p",null,"3. 預購商品於完成結帳後7-15個工作天出貨，出貨後2-3個工作天抵達指定地址",-1),ut=[nt,lt,dt];function pt(t,a){return(0,s.wg)(),(0,s.iD)("div",rt,ut)}const ht={},bt=(0,st.Z)(ht,[["render",pt]]);var gt=bt,_t={data(){return{onSaleProducts:[],product:{},id:"",cart:{carts:[]},item:{qty:1},status:{loadingItem:""},selectedTab:"buyTab",tabComponents:{buyTab:ot,carryTab:gt}}},components:{BuyTab:ot,CarryTab:gt},inject:["$httpMessageState","emitter"],methods:{getOnSale(){const t="https://vue3-course-api.hexschool.io/api/eunho-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1;const a=t.data.products;this.onSaleProducts=a.filter((t=>t.price!==t.origin_price))})).catch((t=>{console.log(t)}))},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/eunho-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)})).catch((t=>{console.log(t)}))},getProductDescription(t){this.$router.push({path:`/product/${t}`})},addNumber(t){t.qty++,this.updateCart(t)},minusNumber(t){t.qty>1&&(t.qty--,this.updateCart(t))},addToCart(t){const a="https://vue3-course-api.hexschool.io/api/eunho-api/cart";this.status.loadingItem=t;const e={product_id:t,qty:this.item.qty};this.$http.post(a,{data:e}).then((t=>{const a=t.data.data;t.data.success&&(this.$httpMessageState(t,"加入購物車"),this.cart.carts.push(a),this.getCart(),this.status.loadingItem="")})).catch((t=>{console.log(t)}))},updateCart(t){const a=`https://vue3-course-api.hexschool.io/api/eunho-api/cart/${t.id}`;this.status.loadingItem=t.id;const e={product_id:t.product_id,qty:t.qty};this.$http.put(a,{data:e}).then((t=>{this.status.loadingItem=""})).catch((t=>{console.log(t)}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/eunho-api/cart";this.$http.get(t).then((t=>{this.cart=t.data.data,this.cartLength=t.data.data.carts.length,this.emitter.emit("sendNum",{data:this.cartLength})})).catch((t=>{console.log(t)}))}},computed:{selectTabComponent(){return this.tabComponents[this.selectedTab]}},created(){this.id=this.$route.params.productId,this.getProduct(),this.getOnSale(),this.$router.afterEach(((t,a)=>{t.path!==a.path&&t.path.startsWith("/product/")&&(this.id=t.params.productId,this.getProduct())}))}};const mt=(0,st.Z)(_t,[["render",J]]);var yt=mt}}]);
//# sourceMappingURL=765.b1dd0a85.js.map