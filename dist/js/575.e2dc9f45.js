"use strict";(self["webpackChunkvueworks"]=self["webpackChunkvueworks"]||[]).push([[575],{4575:function(l,t,s){s.r(t),s.d(t,{default:function(){return A}});var e=s(3396),r=s(7139),i=s(9242);const a={class:"check-out container"},n={class:"flow-container"},d={class:"flow-nav"},o=(0,e._)("li",{class:"flow-item"},[(0,e._)("div",{class:"fill flow-content"},[(0,e._)("i",{class:"bi bi-1-circle-fill"}),(0,e._)("div",null,[(0,e._)("span",null,"FILL IN / "),(0,e.Uk)("填寫資料 ")])])],-1),c=(0,e._)("i",{class:"bi bi-2-circle-fill"},null,-1),u=(0,e._)("div",null,[(0,e._)("span",null,"CHECK OUT / "),(0,e.Uk)("確認付款 ")],-1),_=[c,u],p=(0,e._)("i",{class:"bi bi-3-circle-fill"},null,-1),h=(0,e._)("div",null,[(0,e._)("span",null,"COMPLETED / "),(0,e.Uk)("完成訂購 ")],-1),w=[p,h],k={key:0,class:"gratitude"},v=(0,e._)("div",{class:"gratitude-content"},[(0,e._)("h2",null,"訂單已成立"),(0,e._)("p",null,"感謝您的購買，我們將盡快為您出貨")],-1),f=[v],g={key:1,class:"backToBuy"},y={key:2,class:"payment-list fs-4"},b={class:"goods-list w-100"},m={class:"detailBox"},D={key:0,class:"detail"},z={class:"table align-middle"},C=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"商品"),(0,e._)("th",null,"數量"),(0,e._)("th",null,"單價")])],-1),$=(0,e._)("td",{colspan:"2",class:"top-line"},null,-1),I={class:"top-line"},O={class:"contact-information w-100"},q={class:"customerBox"},x={key:0,class:"customer"},L={class:"table"},U=(0,e._)("th",null,"訂單編號",-1),E=(0,e._)("th",null,"收件人姓名",-1),B=(0,e._)("th",null,"收件人電話",-1),H=(0,e._)("th",null,"Email",-1),T=(0,e._)("th",null,"收件人地址",-1),K=(0,e._)("th",null,"付款狀態",-1),M={key:0,class:"text-danger"},W={key:1,class:"text-success"},Y={key:0,class:"pay"},F=(0,e._)("button",{type:"submit",class:"pay-btn btn w-100"},"確認付款",-1),N=[F];function P(l,t,s,c,u,p){const h=(0,e.up)("LoaDing"),v=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(h,{active:u.isLoading},null,8,["active"]),(0,e._)("div",a,[(0,e._)("div",n,[(0,e._)("ul",d,[o,(0,e._)("li",{class:(0,r.C_)(["flow-item",{current:!u.order.is_paid}])},[(0,e._)("div",{class:(0,r.C_)(["check flow-content",{location:!u.order.is_paid}])},_,2)],2),(0,e._)("li",{class:(0,r.C_)(["flow-item",{current:u.order.is_paid}])},[(0,e._)("div",{class:(0,r.C_)(["completed flow-content",{location:u.order.is_paid}])},w,2)],2)])]),!0===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",k,f)):(0,e.kq)("",!0),!0===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",g,[(0,e.Wm)(v,{to:"/products",class:"btn surf-btn"},{default:(0,e.w5)((()=>[(0,e.Uk)("繼續選購")])),_:1})])):(0,e.kq)("",!0),!0===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",y,"訂單明細")):(0,e.kq)("",!0),(0,e._)("form",{class:"checkout-form",onSubmit:t[0]||(t[0]=(0,i.iM)(((...l)=>p.payOrder&&p.payOrder(...l)),["prevent"]))},[(0,e._)("div",b,[(0,e._)("div",m,[!1===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",D,"購物清單")):(0,e.kq)("",!0)]),(0,e._)("table",z,[C,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(u.order.products,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("td",null,(0,r.zw)(t.product.title),1),(0,e._)("td",null,(0,r.zw)(t.qty)+"  ",1),(0,e._)("td",null,"$"+(0,r.zw)(l.$filters.currency(t.final_total)),1)])))),128))]),(0,e._)("tfoot",null,[(0,e._)("tr",null,[$,(0,e._)("td",I,"總計 $"+(0,r.zw)(l.$filters.currency(u.order.total)),1)])])])]),(0,e._)("div",O,[(0,e._)("div",q,[!1===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",x,"訂購人聯絡資訊")):(0,e.kq)("",!0)]),(0,e._)("table",L,[(0,e._)("tbody",null,[(0,e._)("tr",null,[U,(0,e._)("td",null,(0,r.zw)(u.orderId),1)]),(0,e._)("tr",null,[E,(0,e._)("td",null,(0,r.zw)(u.order.user.name),1)]),(0,e._)("tr",null,[B,(0,e._)("td",null,(0,r.zw)(u.order.user.tel),1)]),(0,e._)("tr",null,[H,(0,e._)("td",null,(0,r.zw)(u.order.user.email),1)]),(0,e._)("tr",null,[T,(0,e._)("td",null,(0,r.zw)(u.order.user.address),1)]),(0,e._)("tr",null,[K,(0,e._)("td",null,[u.order.is_paid?((0,e.wg)(),(0,e.iD)("span",W,"已付款")):((0,e.wg)(),(0,e.iD)("span",M,"尚未付款"))])])])]),!1===u.order.is_paid?((0,e.wg)(),(0,e.iD)("div",Y,N)):(0,e.kq)("",!0)])],32)])],64)}var S={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const l=`https://vue3-course-api.hexschool.io/api/eunho-api/order/${this.orderId}`;this.$http.get(l).then((l=>{l.data.success&&(this.order=l.data.order)})).catch((l=>{console.log(l)}))},payOrder(){const l=`https://vue3-course-api.hexschool.io/api/eunho-api/pay/${this.orderId}`;this.$http.post(l).then((l=>{l.data.success&&this.getOrder()})).catch((l=>{console.log(l)}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Z=s(89);const j=(0,Z.Z)(S,[["render",P]]);var A=j}}]);
//# sourceMappingURL=575.e2dc9f45.js.map